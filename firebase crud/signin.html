<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha256-3edrmyuQ0w65f8gfBsqowzjJe2iM6n0nKciPUp8y+7E=" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script> 

    <link rel="stylesheet" href="design_files/fonts/material-design-iconic-font/css/material-design-iconic-font.min.css">
    <link rel="stylesheet" href="design_files/css/style.css">
    <script src="https://www.gstatic.com/firebasejs/6.0.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.0.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.0.1/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.0.1/firebase-storage.js"></script>
</head>

<body>
    <div class="wrapper" style="background-image: url('design_files/images/registerback.jpg');">
        <div class="inner">
            <div class="image-holder">
                <img src="design_files/images/registration-form-1.jpg" alt="">
            </div>
            <form>
                <h3>Login</h3>
                <div class="form-wrapper">
                    <input id="email" type="text" placeholder="Email Address" class="form-control">
                    <i class="zmdi zmdi zmdi-email"></i>
                </div>
                <div class="form-wrapper">
                    <input id="password" type="password" placeholder="password" class="form-control">
                    <i class="zmdi zmdi zmdi-lock"></i>
                </div>

                <div class="form-group container-login100-form-btn">
                    <button id="btn-login" type="button">
                        Login
                        <i class="zmdi zmdi-arrow-right"></i>
                    </button>
                </div>
                <div class="w-full text-center p-t-27 p-b-239">
                    <span class="text-muted">
                        Forgot
                    </span>
                    <a href="forgotPassword.html" class="text-dark">
                        username/password?
                    </a>
                </div>
                <div class="w-full text-center" style="margin-top: 66%; font-size: 15px;">
                    <a href="signup.html" class="text-dark">
                        Not Have An Account? Sign Up
                    </a>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Your web app's Firebase configuration
        var firebaseConfig = {
            apiKey: "AIzaSyCp2e7CNo83HwDx_HAVgY_IDh0_KW2Y0HI",
            authDomain: "y-spot-e84ca.firebaseapp.com",
            databaseURL: "https://y-spot-e84ca-default-rtdb.firebaseio.com",
            projectId: "y-spot-e84ca",
            storageBucket: "y-spot-e84ca.appspot.com",
            messagingSenderId: "783996806068",
            appId: "1:783996806068:web:298ca1ddb4dfb7e758c8e1",
            measurementId: "G-TSH2JVYJHR"
        };
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);

        document.getElementById('btn-login').addEventListener('click', function () {
            var email = document.getElementById('email').value;
            var password = document.getElementById('password').value;

            firebase.auth().signInWithEmailAndPassword(email, password)
                .then((userCredential) => {
                    // Signed in
                    var user = userCredential.user;
                    window.location.href = "./MainPage.html";
                })
                .catch((error) => {
                    var errorCode = error.code;
                    var errorMessage = error.message;
                    alert(errorMessage);
                });
        });

        firebase.auth().onAuthStateChanged(function(user) {
            if (user) {
                window.location.href = "./MainPage.html";
            }
        });
    </script>
</body>

</html>
